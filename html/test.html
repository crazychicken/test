<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JavaScript</title>
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="./theme/css/modal.css">
  </head>
  <body>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
      Launch demo modal
    </button>

    <button class="btn btn-primary btn-lg" id="btn_scroll">Btn Scroll</button>
    <span class="btn btn-primary" id="touch">123</span>

    <button type="button" class="btn btn-primary btn-lg" data-toggle="tmodal" data-target="#tModal2">
      TModal 2
    </button>
    <button type="button" class="btn btn-primary btn-lg" data-toggle="tmodal" data-target="#tModal">
      TModal
    </button>

    <p id="tuds_test">
      <em>123456</em>
      <!-- Lorem ipsum dolor sit amet,<em> consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non </em>vel at consectetur reprehenderit <em>vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.</em> -->
    </p>
    
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <div id="un_scroll">
      <div id="scroll">
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
      </p>
      </div>
    </div>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p> 
    <button type="button" class="btn btn-primary btn-lg" data-toggle="tmodal" data-target="#tModal">
      TModal
    </button>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p> 
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p> 
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p> 
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p> 
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p> 
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p> 
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p> 
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
    </p> 
    


    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Modal title</h4>
          </div>
          <div class="modal-body">
          <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
          </p>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
          </p>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
          </p>
<form>
  <div class="form-group">
    <label for="exampleInputEmail1">Email address</label>
    <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Email">
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Password</label>
    <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
  </div>
  <div class="form-group">
    <label for="exampleInputFile">File input</label>
    <input type="file" id="exampleInputFile">
    <p class="help-block">Example block-level help text here.</p>
  </div>
  <div class="checkbox">
    <label>
      <input type="checkbox"> Check me out
    </label>
  </div>
  <button type="submit" class="btn btn-default">Submit</button>
</form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="tmodal" data-target-open="#tModal2">
      <div class="tmodal-dialog">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequuntur iste ut quod ab nobis iure excepturi unde itaque quis, in blanditiis repudiandae. Obcaecati, delectus, non! Voluptas earum sed, vero dignissimos.
      </div>
    </div> -->
    <div class="c1">
      <div class="c2">
        <div class="tmodal" data-target-open="#tModal">
          <div class="tmodal-dialog">
            <div class="tmodal-head">
              Header
            </div>
            <div class="tmodal-content">
              <form>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
                </p>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, aperiam laborum, quibusdam non vel at consectetur reprehenderit vero, dolorem rem odit! Voluptates perspiciatis labore totam quibusdam aliquid quisquam eveniet qui.
                </p>
                <div class="form-group">
                  <label for="exampleInputEmail1">Email address</label>
                  <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Email">
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Password</label>
                  <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                </div>
                <div class="form-group">
                  <label for="exampleInputFile">File input</label>
                  <input type="file" id="exampleInputFile">
                  <p class="help-block">Example block-level help text here.</p>
                </div>
                <div class="checkbox">
                  <label>
                    <input type="checkbox"> Check me out
                  </label>
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
                <div class="form-group">
                  <label for="exampleInputPassword1">Password</label>
                  <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                </div>
              </form>
            </div>
            <!-- tmodal-content -->
            <!-- <div class="tmodal-footer">
              Footer
            </div> -->
            <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
          </div>
          <!-- tmodal-dialog -->
          <div class="tmodal-fixed">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. A nesciunt, amet facilis quam quidem iure, quibusdam fuga nisi omnis quisquam eligendi, vitae perferendis? Perferendis, accusamus amet explicabo blanditiis ducimus commodi.
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript">

      var ht = document.querySelectorAll('html')[0];
      var bd = document.querySelectorAll('body')[0];
      // bd.scrollTop = 200;

      var btnOpenModal = document.querySelectorAll('[data-toggle="tmodal"]');
      btnOpenModal = [].slice.call(btnOpenModal);

      var getModal = document.getElementsByClassName('tmodal');
      getModal = [].slice.call(getModal);

      var s_top = 0;
      btnOpenModal.forEach(function(e){
        e.ontouchstart = function(){
          var a = this;
          getModal.forEach( function(el){
            if ( a.getAttribute('data-target') === el.getAttribute('data-target-open') ) {
              s_top = window.pageYOffset;
              // console.log(s_top);
              var addClass = el.className + ' show';
              el.setAttribute('class', addClass);
              ht.setAttribute('class', 'fixed');
              bd.setAttribute('class', 'fixed');
              // stopBodyScrolling(true)
            }
          });
        }
      });

      getModal.forEach( function(el){
        el.ontouchstart = function(e) {
          // console.log(el.scrollHeight);
          var node = e.target;
          if ( node.className.includes('show') ) {
            this.setAttribute('class', 'tmodal');
            ht.setAttribute('class', '');
            bd.setAttribute('class', '');
            window.scrollTo(0, s_top);

          } else {
            // var a = window.innerHeight;
            // var num = document.getElementById('touch');
            // num.innerHTML = 'true';
            // window.onscroll = function () { window.scrollTo('auto', 'auto'); };
          }
          if ( node.className.includes('form-control') ) {
            // e.preventDefault();
            var a = document.body.scrollTop;
            var b = window.innerHeight;
            // var c = b - a;
            // console.log(this);
            // document.body.style.height = 628 + 'px';
            // window.onscroll = function () { window.scrollTo(0, 333); };
          }
        }
      });

      // $('body').on('touchstart', function(){
      //   var b = window.innerHeight;
      //   var num = document.getElementById('touch');
      //   num.innerHTML = b;
      // })

      // window.addEventListener('resize', function() { alert(window.innerHeight); });


      // var a = window.scrollTop;
      // var num = document.getElementById('touch');
      // num.innerHTML = a;
      // window.onscroll = function () { 
      //   // window.scrollTo(0, 0);
      //   console.log(window.pageYOffset)
      // };


      // $(document).bind("touchmove", function(e){
      //   e.preventDefault();
      // });
      // $('.tmodal').on('touchmove', function (e) {
      //   window.onscroll = function () { window.scrollTo(0, 0); };
      //   e.stopPropagation();
      // })

      // $('body').bind('touchmove', function(e){e.preventDefault()})
      // $('body').unbind('touchmove');

      // var num = document.getElementById('touch');
      // var a = this.scrollTop;
      // num.innerHTML = a;

      

      // function removeIOSRubberEffect( element ) {

      //   element.addEventListener( "touchstart", function () {

      //       var top = element.scrollTop,
      //       totalScroll = element.scrollHeight,
      //       currentScroll = top + element.offsetHeight;

      //       if ( top === 0 ) {
      //           element.scrollTop = 1;
      //       } else if ( currentScroll === totalScroll ) {
      //           element.scrollTop = top - 1;
      //       }

      //   });
      // }

      // var btn_scroll = document.getElementById('btn_scroll');
      // btn_scroll.onclick = function() {
      //   // window.scrollTo(300, 500);
      //   // var a = document.body.scrollTop;
      //   var a = window.pageYOffset;
      //   console.log(a);
      //   window.scrollTo(0, a);
      // }
      $(document).ready(function(){
        $('.modal').on('show.bs.modal', function (e) {
          // console.log(true)
          var windowScrollTop = $(window).scrollTop();
          console.log(windowScrollTop);
        })
        var a = $('#tuds_test').text()
        a = a.trim()
        console.log(a.length)
      })

    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  </body>
</html>